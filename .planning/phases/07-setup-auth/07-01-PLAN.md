---
phase: 07-setup-auth
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - web/package.json
  - web/vite.config.ts
  - web/tsconfig.json
  - web/tailwind.config.js
  - web/postcss.config.js
  - web/src/main.tsx
  - web/src/App.tsx
  - web/src/index.css
  - web/components.json
  - web/.eslintrc.cjs
  - web/.prettierrc
autonomous: true
must_haves:
  truths:
    - "npm run dev starts Vite dev server without errors"
    - "Tailwind classes render correctly in browser"
    - "shadcn/ui Button component renders with correct styles"
    - "TypeScript compilation has no errors"
  artifacts:
    - path: "web/package.json"
      provides: "Project dependencies and scripts"
      contains: "vite"
    - path: "web/vite.config.ts"
      provides: "Vite configuration with proxy"
      contains: "defineConfig"
    - path: "web/tailwind.config.js"
      provides: "Tailwind configuration with shadcn preset"
      contains: "tailwindcss"
    - path: "web/src/main.tsx"
      provides: "React entry point"
      contains: "createRoot"
    - path: "web/src/lib/utils.ts"
      provides: "cn() utility for Tailwind class merging"
      contains: "clsx"
  key_links:
    - from: "web/src/main.tsx"
      to: "web/src/App.tsx"
      via: "import and render"
      pattern: "import.*App"
    - from: "web/tailwind.config.js"
      to: "web/src/index.css"
      via: "@tailwind directives"
---

<objective>
Set up the React frontend project with Vite, Tailwind CSS, and shadcn/ui.

Purpose: Create the foundation for the v2.0 Web Dashboard with modern tooling and component library.
Output: Working Vite + React + TypeScript project with Tailwind CSS and shadcn/ui configured.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md

Existing backend runs on port 8000. Frontend should proxy /api requests to backend.

Stack decisions (from STATE.md):
- React 18 + Vite (not Next.js - SPA sufficient)
- Tailwind CSS for styling
- shadcn/ui components (copy-paste ownership, Tailwind native)
- TanStack Query for server state (will be added in auth plan)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Vite + React + TypeScript project</name>
  <files>web/package.json, web/vite.config.ts, web/tsconfig.json, web/src/main.tsx, web/src/App.tsx</files>
  <action>
    Create project in `web/` directory (not root - keep monorepo structure clean).

    1. Run: `npm create vite@latest web -- --template react-ts`
    2. cd web && npm install
    3. Update vite.config.ts to add proxy for API:
       ```typescript
       export default defineConfig({
         plugins: [react()],
         server: {
           port: 3000,
           proxy: {
             '/api': {
               target: 'http://localhost:8000',
               changeOrigin: true,
             },
           },
         },
       })
       ```
    4. Verify: npm run dev starts without errors

    DO NOT install Tailwind yet - that's Task 2.
  </action>
  <verify>cd web && npm run dev -- --port 3000 starts successfully, curl localhost:3000 returns HTML</verify>
  <done>Vite dev server runs, React app renders</done>
</task>

<task type="auto">
  <name>Task 2: Configure Tailwind CSS</name>
  <files>web/tailwind.config.js, web/postcss.config.js, web/src/index.css</files>
  <action>
    Install and configure Tailwind CSS with the CSS variables approach (required for shadcn/ui).

    1. Install: `npm install -D tailwindcss postcss autoprefixer`
    2. Run: `npx tailwindcss init -p`
    3. Update tailwind.config.js:
       ```javascript
       /** @type {import('tailwindcss').Config} */
       export default {
         darkMode: ["class"],
         content: [
           "./index.html",
           "./src/**/*.{js,ts,jsx,tsx}",
         ],
         theme: {
           container: {
             center: true,
             padding: "2rem",
             screens: {
               "2xl": "1400px",
             },
           },
           extend: {
             colors: {
               border: "hsl(var(--border))",
               input: "hsl(var(--input))",
               ring: "hsl(var(--ring))",
               background: "hsl(var(--background))",
               foreground: "hsl(var(--foreground))",
               primary: {
                 DEFAULT: "hsl(var(--primary))",
                 foreground: "hsl(var(--primary-foreground))",
               },
               secondary: {
                 DEFAULT: "hsl(var(--secondary))",
                 foreground: "hsl(var(--secondary-foreground))",
               },
               destructive: {
                 DEFAULT: "hsl(var(--destructive))",
                 foreground: "hsl(var(--destructive-foreground))",
               },
               muted: {
                 DEFAULT: "hsl(var(--muted))",
                 foreground: "hsl(var(--muted-foreground))",
               },
               accent: {
                 DEFAULT: "hsl(var(--accent))",
                 foreground: "hsl(var(--accent-foreground))",
               },
               popover: {
                 DEFAULT: "hsl(var(--popover))",
                 foreground: "hsl(var(--popover-foreground))",
               },
               card: {
                 DEFAULT: "hsl(var(--card))",
                 foreground: "hsl(var(--card-foreground))",
               },
             },
             borderRadius: {
               lg: "var(--radius)",
               md: "calc(var(--radius) - 2px)",
               sm: "calc(var(--radius) - 4px)",
             },
           },
         },
         plugins: [require("tailwindcss-animate")],
       }
       ```
    4. Install animate plugin: `npm install -D tailwindcss-animate`
    5. Replace src/index.css with Tailwind directives + CSS variables:
       ```css
       @tailwind base;
       @tailwind components;
       @tailwind utilities;

       @layer base {
         :root {
           --background: 0 0% 100%;
           --foreground: 222.2 84% 4.9%;
           --card: 0 0% 100%;
           --card-foreground: 222.2 84% 4.9%;
           --popover: 0 0% 100%;
           --popover-foreground: 222.2 84% 4.9%;
           --primary: 222.2 47.4% 11.2%;
           --primary-foreground: 210 40% 98%;
           --secondary: 210 40% 96.1%;
           --secondary-foreground: 222.2 47.4% 11.2%;
           --muted: 210 40% 96.1%;
           --muted-foreground: 215.4 16.3% 46.9%;
           --accent: 210 40% 96.1%;
           --accent-foreground: 222.2 47.4% 11.2%;
           --destructive: 0 84.2% 60.2%;
           --destructive-foreground: 210 40% 98%;
           --border: 214.3 31.8% 91.4%;
           --input: 214.3 31.8% 91.4%;
           --ring: 222.2 84% 4.9%;
           --radius: 0.5rem;
         }

         .dark {
           --background: 222.2 84% 4.9%;
           --foreground: 210 40% 98%;
           --card: 222.2 84% 4.9%;
           --card-foreground: 210 40% 98%;
           --popover: 222.2 84% 4.9%;
           --popover-foreground: 210 40% 98%;
           --primary: 210 40% 98%;
           --primary-foreground: 222.2 47.4% 11.2%;
           --secondary: 217.2 32.6% 17.5%;
           --secondary-foreground: 210 40% 98%;
           --muted: 217.2 32.6% 17.5%;
           --muted-foreground: 215 20.2% 65.1%;
           --accent: 217.2 32.6% 17.5%;
           --accent-foreground: 210 40% 98%;
           --destructive: 0 62.8% 30.6%;
           --destructive-foreground: 210 40% 98%;
           --border: 217.2 32.6% 17.5%;
           --input: 217.2 32.6% 17.5%;
           --ring: 212.7 26.8% 83.9%;
         }
       }

       @layer base {
         * {
           @apply border-border;
         }
         body {
           @apply bg-background text-foreground;
         }
       }
       ```
    6. Update App.tsx to use a Tailwind class to verify it works:
       ```tsx
       function App() {
         return (
           <div className="min-h-screen bg-background flex items-center justify-center">
             <h1 className="text-3xl font-bold text-foreground">AuditEng Dashboard</h1>
           </div>
         )
       }
       export default App
       ```
  </action>
  <verify>npm run dev shows styled text centered on screen, inspect element shows Tailwind classes applied</verify>
  <done>Tailwind CSS working with CSS variables for shadcn/ui theming</done>
</task>

<task type="auto">
  <name>Task 3: Set up shadcn/ui and folder structure</name>
  <files>web/components.json, web/src/lib/utils.ts, web/src/components/ui/button.tsx</files>
  <action>
    Initialize shadcn/ui and create the standard folder structure.

    1. Install shadcn/ui dependencies:
       `npm install class-variance-authority clsx tailwind-merge lucide-react`

    2. Create components.json at web/components.json:
       ```json
       {
         "$schema": "https://ui.shadcn.com/schema.json",
         "style": "default",
         "rsc": false,
         "tsx": true,
         "tailwind": {
           "config": "tailwind.config.js",
           "css": "src/index.css",
           "baseColor": "slate",
           "cssVariables": true,
           "prefix": ""
         },
         "aliases": {
           "components": "@/components",
           "utils": "@/lib/utils",
           "ui": "@/components/ui",
           "lib": "@/lib",
           "hooks": "@/hooks"
         }
       }
       ```

    3. Update tsconfig.json to add path aliases:
       ```json
       {
         "compilerOptions": {
           "target": "ES2020",
           "useDefineForClassFields": true,
           "lib": ["ES2020", "DOM", "DOM.Iterable"],
           "module": "ESNext",
           "skipLibCheck": true,
           "moduleResolution": "bundler",
           "allowImportingTsExtensions": true,
           "resolveJsonModule": true,
           "isolatedModules": true,
           "noEmit": true,
           "jsx": "react-jsx",
           "strict": true,
           "noUnusedLocals": true,
           "noUnusedParameters": true,
           "noFallthroughCasesInSwitch": true,
           "baseUrl": ".",
           "paths": {
             "@/*": ["./src/*"]
           }
         },
         "include": ["src"],
         "references": [{ "path": "./tsconfig.node.json" }]
       }
       ```

    4. Update vite.config.ts to add resolve alias:
       ```typescript
       import path from "path"
       import react from "@vitejs/plugin-react"
       import { defineConfig } from "vite"

       export default defineConfig({
         plugins: [react()],
         resolve: {
           alias: {
             "@": path.resolve(__dirname, "./src"),
           },
         },
         server: {
           port: 3000,
           proxy: {
             '/api': {
               target: 'http://localhost:8000',
               changeOrigin: true,
             },
           },
         },
       })
       ```

    5. Install @types/node for path module: `npm install -D @types/node`

    6. Create src/lib/utils.ts:
       ```typescript
       import { type ClassValue, clsx } from "clsx"
       import { twMerge } from "tailwind-merge"

       export function cn(...inputs: ClassValue[]) {
         return twMerge(clsx(inputs))
       }
       ```

    7. Create folder structure:
       - src/components/ui/ (shadcn components)
       - src/components/ (app components)
       - src/lib/ (utilities)
       - src/hooks/ (custom hooks)
       - src/pages/ (route pages)
       - src/types/ (TypeScript types)

    8. Run: `npx shadcn@latest add button` to add first component
       (This validates the setup is correct)

    9. Update App.tsx to use the Button:
       ```tsx
       import { Button } from "@/components/ui/button"

       function App() {
         return (
           <div className="min-h-screen bg-background flex items-center justify-center gap-4">
             <h1 className="text-3xl font-bold text-foreground">AuditEng Dashboard</h1>
             <Button>Click me</Button>
             <Button variant="outline">Outline</Button>
             <Button variant="destructive">Destructive</Button>
           </div>
         )
       }
       export default App
       ```
  </action>
  <verify>npm run dev shows three styled buttons, Button component imports work with @/ alias</verify>
  <done>shadcn/ui initialized, Button component renders, path aliases work</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cd web && npm run dev` starts without errors
- [ ] `cd web && npm run build` completes without TypeScript errors
- [ ] Tailwind classes render correctly in browser
- [ ] Button component from shadcn/ui renders with correct styles
- [ ] Path aliases (@/) resolve correctly
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- Vite dev server runs on port 3000
- API proxy configured for /api -> localhost:8000
</success_criteria>

<output>
After completion, create `.planning/phases/07-setup-auth/07-01-SUMMARY.md`
</output>
